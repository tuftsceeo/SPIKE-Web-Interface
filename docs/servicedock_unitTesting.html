<html>

    <head>
        <!--
            <script src="./modules/ServiceDock_GeoLocation.js"></script>
            <script src="./modules/ServiceDock_Gmail.js"></script>
            <script src = "./modules/ServiceDock.js" type = "text/javascript"></script>
        -->
        <!--
                <script src="./modules/ServiceDock_SPIKE.js"></script>
                <script src="./modules/ServiceDock_SystemLink.js"></script>
                <script src="./modules/ServiceDock_Airtable.js" type = "text/javascript"></script>
                -->
        <script src="../../cdn/ServiceDock_scaled.js"></script>
        <script src="./modules/libraries/jquery_351.js" type="text/javascript"></script>
        <script src="./modules/libraries/hoverscript_jquery.js" type="text/javascript"></script>
        <!-- <script src = "https://cdn.jsdelivr.net/gh/tuftsceeo/SPIKE-Web-Interface/cdn/ServiceDock.min.js"></script> -->
    </head>

    <body style="background-image: url('./examples/modules/views/CEEOInnovationsbackground.png');">
        <!-- SERVICE DOCK -->
        <div id="servicedock" style="float:left;">
            <service-spike dev = "true" id="service_spike"></service-spike>
            <service-systemlink id="service_systemlink"></service-systemlink>
            <service-airtable id="service_airtable"></service-airtable>
            <service-gmail ></service-gmail>
            <service-geolocation></service-geolocation>
        </div>

        <!-- WRITE PROGRAM TEXTBOX FOR SPIKE PRIME -->
        <div id = "onlyForWriteProgram" >
            <textarea id="writeProgramData" name="data" value=""
                style="font-family: Courier; position: relative; left: 20px; z-index: 5;" ></textarea>
            <input style = "position: relative; left: 20px;" type="button" id = "writeTheProgram" value="write program">
        </div>

        <!-- SERVICE SELECTION INTERFACE -->
        <div id = "selectServiceBox">
            <select id = "ServiceSelect">
                <option id = "SPIKETests">Get tests for SPIKE Service</option>
                <option id="SLTests">Get tests for SystemLink Service</option>
                <option id="ATTests">Get tests for Airtable Service</option>
            </select>
        </div>

        <!-- SPIKE TESTING INTERFACE -->
        <div id = "SPIKEbox">
            <select id="SPIKEselectTest">
                <option id="motorOPTION"> motor functions </option>
                <option id="motorPairOPTION"> motorPair functions </option>
                <option id="motionOPTION"> motion sensor functions </option>
                <option id="forceOPTION"> force sensor functions </option>
                <option id="speakerOPTION"> Primehub.speaker functions </option>
                <option id="buttonOPTION"> Primehub.button functions </option>
                <option id="colorOPTION"> Color sensor functions </option>
                <option id="ultrasonicOPTION"> Distance Sensor functions </option>
                <option id="programOPTION"> write program functions </option>
                <option id="miscOPTION"> miscellaneous functions </option>
            </select>
            <input type="button" id="SPIKE_test_select" value="display test cases for this function">
            <div id="SPIKEtests">
                <!-- motor functions -->
                <input type="button" id="motordeg" class="SPIKEtestCase motor"
                    value="motor.run_to_degrees_counted() ( with stall detection )">
                <input type="button" id="motordeg1" class="SPIKEtestCase motor"
                                        value="motor.run_to_degrees_counted() ( NO stall detection )">
                <input type="button" id="motordegcb" class="SPIKEtestCase motor"
                    value="motor.run_to_degrees_counted() with CALLBACK ( with stall detection )">
                <input type="button" id="motordeg1cb" class="SPIKEtestCase motor"
                    value="motor.run_to_degrees_counted() with CALLBACK ( NO stall detection )">
                <input type="button" id="degreesCounted" class="SPIKEtestCase motor" value="motor get degrees counted">
                <input type="button" id="motorPosition" class="SPIKEtestCase motor" value="motor get position">
                <input type="button" id="motorGetPower" class="SPIKEtestCase motor" value="motor get power">
                <input type="button" id="motorGetSpeed" class="SPIKEtestCase motor" value="motor get speed">
                <input type="button" id="motorStartAtPower" class="SPIKEtestCase motor" value="motor startAtPower">
                <input type="button" id="motorStop" class="SPIKEtestCase motor" value="motor stop">

                <!-- motor pair functions -->
                <input type="button" id="motorPairMove" class="SPIKEtestCase motorPair" value="motorPair move(100, 'cm', 0, 100)">
                <input type="button" id="motorPairMoveLeft" class="SPIKEtestCase motorPair" value="motorPair move left (steering: -100) ">
                <input type="button" id="motorPairMoveRight" class="SPIKEtestCase motorPair" value="motorPair move right (steering: 100)">
                <input type="button" id="motorPairMoveLeftSlightly" class="SPIKEtestCase motorPair" value="motorPair move left (steering: -50) ">
                <input type="button" id="motorPairMoveRightSlightly" class="SPIKEtestCase motorPair" value="motorPair move right (steering: 50)">
                <input type="button" id="motorPairStart" class="SPIKEtestCase motorPair" value="motorPair start(0, 100)">
                <input type="button" id="motorPairStartLeft" class="SPIKEtestCase motorPair" value="motorPair start left">
                <input type="button" id="motorPairStartRight" class="SPIKEtestCase motorPair" value="motorPair start right">
                <input type="button" id="motorPairStartTank" class="SPIKEtestCase motorPair" value="motorPair start_tank()">
                <input type="button" id="motorPairStop" class="SPIKEtestCase motorPair" value="motorPair stop()">
                
                <!-- motion sensor functions-->
                <input type="button" id="waitForNewGesture" class="SPIKEtestCase motion" value="wait_for_new_gesture test">
                <input type="button" id="wasGesture" class="SPIKEtestCase motion" value="was_gesture test">
                <input type="button" id="waitForNewOri" class="SPIKEtestCase motion" value="wait_for_new_orientation test">
                <input type="button" id="getAngles" class="SPIKEtestCase motion" value = "get angles test">
                <input type="button" id="resetYaw" class="SPIKEtestCase motion" value="reset yaw angle() test">
                <input type="button" id="resetYawSource" class="SPIKEtestCase motion" value="reset yaw angle() source code test">
                <input type="button" id="getGesture" class="SPIKEtestCase motion" value="getGesture() test">
                <input type="button" id="getOrientation" class="SPIKEtestCase motion" value="getOrientation() test">
                
                <!-- Force sensor functions-->
                <input type="button" id="getForceNewton" class="SPIKEtestCase force" value="get_force_newton() test">
                <input type="button" id="getForcePercentage" class="SPIKEtestCase force" value="get_force_percentage() test">
                <input type="button" id="forceSensorIsPressed" class="SPIKEtestCase force" value="is_pressed() test">
                <input type="button" id="forceSensorWaitUntilPress" class="SPIKEtestCase force" value="wait_until_pressed() test">
                <input type="button" id="forceSensorWaitUntilRelease" class="SPIKEtestCase force" value="wait_until_released() test">
                
                <!-- speaker functions-->
                <input type="button" id="beep" class="SPIKEtestCase speaker" value="beep(note,seconds) test">
                <input type="button" id="startBeep" class="SPIKEtestCase speaker" value="startBeep(note) test">
                <input type="button" id="stopBeep" class="SPIKEtestCase speaker" value="speaker.stop() test">
                
                <!-- button functions-->
                <input type="button" id="buttonWaitPress" class="SPIKEtestCase button" value="left and right button.wait_until_pressed(callback)">
                <input type="button" id="buttonWaitRelease" class="SPIKEtestCase button" value="left and right button.wait_until_released(callback)">
                <input type="button" id="buttonWasPress" class="SPIKEtestCase button" value="left and right button.was_pressed()">
                <input type="button" id="buttonIsPress" class="SPIKEtestCase button" value="left and right button.is_pressed()">
                
                <!-- color sensor functions -->
                <input type="button" id="getColor" class="SPIKEtestCase color" value="get color test">
                <input type="button" id="waitUntilColor" class="SPIKEtestCase color" value="wait until color test">
                <input type="button" id="waitForNewColor" class="SPIKEtestCase color" value="wait for new color test">
                
                <!-- ultrasonic sensor functions -->
                <input type="button" id="lightup" class="SPIKEtestCase ultrasonic" value="ultrasonic light up">
                <input type="button" id="testGetDistanceCM" class="SPIKEtestCase ultrasonic" value="DistanceSensor.get_distance_cm()">
                <input type="button" id="testGetDistanceIN" class="SPIKEtestCase ultrasonic" value="DistanceSensor.get_distance_inches()">
                <input type="button" id="testWaitForDistanceFartherThan" class="SPIKEtestCase ultrasonic"
                    value="DistanceSensor.wait_for_distance_farther_than()">
                <input type="button" id="testWaitForDistanceCloserThan" class="SPIKEtestCase ultrasonic"
                    value="DistanceSensor.wait_for_distance_closer_than()">
                <!-- write Program functions -->
                <input type="button" id="writeProgram" class="SPIKEtestCase program" value="test write program">
                <input type="button" id="concatenateProgram" class="SPIKEtestCase program" value="test source code for concatenating micropy program">
                <input type="button" id="getProjects" class="SPIKEtestCase program" value="test getProjects()">
                <input type="button" id="parseUJSON" class="SPIKEtestCase program" value="test parseUJSONRPC source code">
                <input type="button" id="micropython" class="SPIKEtestCase program" value="test micropython tempalte literal">
                <input type="button" id="waitForSeconds" class="SPIKEtestCase program" value="test wait_for_seconds">

                <!-- SPIKE Library functions-->
                <input type="button" id="setHubOri" class="SPIKEtestCase misc" value="setHubOrientation()">
                <input type="button" id="testUJSONRPC" class="SPIKEtestCase misc" value="test UJSONRPC.displayText()">
                <input type="button" id="testNewKeyword" class="SPIKEtestCase misc" value="new Motor() vs Motor()">
                <input type="button" id="testNewKeyword1" class="SPIKEtestCase misc" value="Motor() vs Motor() declared without 'new' keyword">
                <input type="button" id="testGetMotors" class="SPIKEtestCase misc" value="getMotors">
                <input type="button" id="getMotorPorts" class="SPIKEtestCase misc" value="get motorports">

                <input type="button" id="displayClear" class="SPIKEtestCase misc" value="UJSON displayClear()">
                <input type="button" id="displaySetPixel" class="SPIKEtestCase misc" value="UJSON displaySetPixel(0,0, 100)">
                <input type="button" id="displayText" class="SPIKEtestCase misc" value="displayText('hello')">
                <input type="button" id="motorGoRelPos" class="SPIKEtestCase misc" value="motorGoRelPos('A',180,100,true,true)">
                <input type="button" id="motorGoRelPos1" class="SPIKEtestCase misc" value="motorGoRelPos('A',180,100,false,true)">
                <input type="button" id="motorGoRelPos2" class="SPIKEtestCase misc" value="motorGoRelPos('A',180,100,true,false)">
                <input type="button" id="motorGoRelPos3" class="SPIKEtestCase misc" value="motorGoRelPos('A',180,100,false,false)">
                <input type="button" id="motorPwm" class="SPIKEtestCase misc" value="motorPwm('A',100,true)">
                <input type="button" id="motorPwm1" class="SPIKEtestCase misc" value="motorPwm('A',100,false)">
                <input type="button" id="motorRunDegrees" class="SPIKEtestCase misc" value="motorRunDegrees('A',400, 100, true, true)">
                <input type="button" id="motorRunDegrees1" class="SPIKEtestCase misc" value="motorRunDegrees('A',400, 100, false, true)">
                <input type="button" id="motorRunDegrees2" class="SPIKEtestCase misc" value="motorRunDegrees('A',400, 100, true, false)">
                <input type="button" id="motorRunDegrees3" class="SPIKEtestCase misc" value="motorRunDegrees('A',400, 100, false, false)">
                <input type="button" id="motorRunTimed" class="SPIKEtestCase misc" value="motorRunTimed('A',3000,100,true,true)">
                <input type="button" id="motorRunTimed1" class="SPIKEtestCase misc" value="motorRunTimed('A',3000,100,false,true)">
                <input type="button" id="motorRunTimed2" class="SPIKEtestCase misc" value="motorRunTimed('A',3000,100,true,false)">
                <input type="button" id="motorRunTimed3" class="SPIKEtestCase misc" value="motorRunTimed('A',3000,100,false,false)">
                <input type="button" id="motorStart" class="SPIKEtestCase misc" value="motorStart('A',100,true)">
                <input type="button" id="motorStart1" class="SPIKEtestCase misc" value="motorStart('A',100,false)">
                <input type="button" id="moveTankDegrees" class="SPIKEtestCase misc" value="moveTankDegrees(300, 100, 100, 'A', 'B',true)">
                <input type="button" id="moveTankDegrees1" class="SPIKEtestCase misc" value="moveTankDegrees(300, 100, 100, 'A', 'B',false)">
                <input type="button" id="moveTankPowers" class="SPIKEtestCase misc" value="moveTankPowers(100, 100, 'A', 'B')">
                <input type="button" id="moveTankSpeeds" class="SPIKEtestCase misc" value="moveTankSpeeds(100, 100, 'A', 'B')">
                <input type="button" id="moveTankTime" class="SPIKEtestCase misc" value="moveTankTime(3000, 100, 100, 'A', 'B',true)">
                <input type="button" id="moveTankTime1" class="SPIKEtestCase misc" value="moveTankTime(3000, 100, 100, 'A', 'B',false)">
                <input type="button" id="soundBeep" class="SPIKEtestCase misc" value="soundBeep(100, 300)">
                <input type="button" id="soundStop" class="SPIKEtestCase misc" value="soundStop()">
                <input type="button" id="random" class="SPIKEtestCase misc" value="random">
                <div id="chart"></div>
            </div>
        </div>

        <!-- SYSTEMLINK TESTING INTERFACE  -->
        <div id="SLbox">
            <div>
                <select id="SLselectTest">
                    <option id="getTagsInfoOPTION">getTagsInfo</option>
                    <option id="createNewTagOPTION"> createNewTag </option>
                    <option id="deleteTagOPTION"> deleteTag </option>
                    <option id="setTagValueOPTION"> setTagValue </option>
                </select>
                <input type = "button" id = "SL_test_select" value = "display test cases for this function">
            </div>
            <div id = "SLtests">

                <!--      getTagsInfo CASES      -->
                <input type="button" id="getTagsInfo"  class = "SLtestCase getTagsInfo" value="getTagsInfo"> <!-- regular -->
                
                <!-- (when there are no tags)-->
                <input type="button" id="getTagsInfo1" class = "SLtestCase getTagsInfo" value="getTagsInfo when there are no tags">
                
                <!-- createNewTag CASES-->
                <input type="button" id="createNewTag" class = "SLtestCase createNewTag" value="create new tag ('newTag')">
                
                <!--deleteTag CASES -->
                <!-- (when tag to delete exists) -->
                <input type="button" id="deleteTag"    class = "SLtestCase deleteTag" value="delete tag ('newTag')">
                
                <!-- (when tag to delete doesn't exist)-->
                <input type="button" id="deleteTag1" class="SLtestCase deleteTag" value= "delete tag ('newTag') when it doesnt exist">

                <!-- (when tag to delete doesn't exist)-->
                <input type="button" id="deleteTag2" class="SLtestCase deleteTag" value="jsut delete tag ('newTag')">
                
                <!-- setTagValue CASES -->
                <!-- setTagValue without callback-->
                <input type="button" id="setTagValue" class="SLtestCase setTagValue" value="create 'newTag' with value 4 and change it to 5">
                <input type="button" id="setINTtagwithString" class="SLtestCase setTagValue"
                    value="set an INT tag's value with a string input">
                <input type="button" id="setINTtagwithBool" class="SLtestCase setTagValue"
                                        value="set an INT tag's value with a boolean input">
                <input type="button" id="setINTtagwithNumber" class="SLtestCase setTagValue"
                    value="set an INT tag's value with a number input">
                <input type="button" id="setSTRINGtagwithString" class="SLtestCase setTagValue"
                    value="set a string tag's value with a string input">
                <input type="button" id="setSTRINGtagwithNumber" class="SLtestCase setTagValue"
                    value="set a string tag's value with a number input">
                <input type = "button" id = "setSTRINGtagwithBoolean" class = "SLtestCase setTagValue" value = "set a string tag's value with a boolean input">

                <input type="button" id="setBOOLEANtagwithString" class="SLtestCase setTagValue"
                        value="set a BOOLEAN tag's value with a string input"> 
                <input type = "button" id = "setBOOLEANtagWithBoolean" class = "SLtestCase setTagValue" value = "set a BOOLEAN tag's value with a boolean input">
            </div>
        </div>

        <!-- AIRTABLE TESTING INTERFACE -->
        <div id="ATbox">
            <div>
                <select id="ATselectTest">
                    <option id = "generalOPTION_AT">General</option>
                    <option id="edgeOPTION_AT">Edge cases</option>
                </select>
                <input type="button" id="AT_test_select" value="display test cases for this function">
            </div>
            <div id="ATtests">

                <!-- general cases -->
                <input type = "button" id ="testGetTagsInfo_AT" class = "ATtestCase general" value = "testGetTagsInfo">
                <input type = "button" id ="testSetTagValue_AT" class = "ATtestCase general" value = "testSetTagValue">
                <input type = "button" id ="testSetTagValueNonString_AT" class = "ATtestCase general" value = "testSetTagValue with numbers">
                <input type = "button" id ="testGetTagValue_AT" class = "ATtestCase general" value = "testGetTagValue">
                <input type = "button" id ="testCreateTag_AT" class = "ATtestCase general" value = "testCreateTag">
                <input type = "button" id ="testDeleteTag_AT" class = "ATtestCase general" value = "testDeleteTag">
                <input type="button" id="testSetTagValueNoCB_AT" class="ATtestCase general" value="test setTagVakye w/o callback">
                <input type = "button" id ="testIsActive_AT" class = "ATtestCase general" value = "testIsActive">
                <input type = "button" id = "testSetStringTagValueWithNumber_AT" class = "ATtestCase general" value = "testSetStringTagValueWithNumber">
                <input type="button" id="testSetStringTagValueWithStringThatIsNumber_AT" class="ATtestCase general"
                    value="testSetStringTagValueWithStringThatIsNumber">
                <input type = "button" id = "testSetStringTagValueWithBoolean_AT" class = "ATtestCase general" value = "testSetStringTagValueWithBoolean">
                <input type = "button" id = "testSetIntTagValueWithStringThatIsNumber_AT" class = "ATtestCase general" value = "testSetIntTagValueWithStringThatIsNumber">

                <!-- edge cases -->
                <input type="button" id="testCreateExisting_AT" class="ATtestCase edge_AT" value="Create an already existing tag">
                <input type="button" id="testDeleteNonExistant_AT" class="ATtestCase edge_AT" value="Delete a nonexistant tag">
                <input type="button" id="testDeleteWhenTwoExist_AT" class="ATtestCase edge_AT" value="Delete a tag when there are two tags in the database with same name">
                <input type="button" id="testDeleteAfterCreateTag_AT" class="ATtestCase edge_AT"
                    value="Delete tag after creation in callback">
                    
            </div>
        </div>
    </body>
    <script src = "./tests/utils/api.js"></script>
    <script>
        var mySLElement = document.getElementById("service_systemlink");
        var AirtableElement = document.getElementById("service_airtable");

        var mySL = mySLElement.getService();
        var Airtable = AirtableElement.getService();
        var mySPIKE = document.getElementById("service_spike").getService();

        /* initialize systemlink */

        getCredentials("SL_master", (key) => {
            mySLElement.setAttribute("apikey", key); // this works too,
        })
        
        /* initialize airtable */
        getCredentials("AT_test_key", (key) => {
            getCredentials("AT_test_baseid", (baseid) => {
                getCredentials("AT_test_tablename", (tablename) => {
                    AirtableElement.setAttribute("apikey", key);
                    AirtableElement.setAttribute("baseid", baseid);
                    AirtableElement.setAttribute("tablename", tablename);
                })
            })
        })
        // var hub = new mySPIKE.PrimeHub(); (commented by jeremy 1/19/21)
    </script>

    <!-- SPIKE tests -->
    <script src="./tests/SPIKE/init.js"></script>
    <script src="./tests/SPIKE/motor.js"></script>
    <script src="./tests/SPIKE/motorpair.js"></script>
    <script src="./tests/SPIKE/buttons.js"></script>
    <script src="./tests/SPIKE/colorsensor.js"></script>
    <script src="./tests/SPIKE/forcesensor.js"></script>
    <script src="./tests/SPIKE/misc.js"></script>
    <script src="./tests/SPIKE/motionsensor.js"></script>
    <script src="./tests/SPIKE/program.js"></script>
    <script src="./tests/SPIKE/speaker.js"></script>
    <script src="./tests/SPIKE/ultrasonic.js"></script>

    <!-- Systemlink tests -->
    <script src="./tests/SystemLink/delete.js"></script>
    <script src="./tests/SystemLink/get.js"></script>
    <script src="./tests/SystemLink/set.js"></script>

    <!-- Airtable tests  -->
    <script src ="./tests/Airtable/general.js"></script>
    <script src="./tests/Airtable/edges.js"></script>

    <!-- UI event listeners -->
    <script>
        let selectService = document.getElementById("ServiceSelect");

        displayTests(); // display the tests of Service picked during window load
        selectService.addEventListener("change", () => {
            displayTests();
        });

        function displayTests () {
            let testsSPIKE = document.getElementById("SPIKEbox");
            let testsSL = document.getElementById("SLbox");
            let testsAT = document.getElementById("ATbox");

            let selectedService = $("#ServiceSelect option:selected").attr('id');
            if (selectedService == "SPIKETests") {
                testsSPIKE.style.display = "block";
                testsSL.style.display = "none";
                testsAT.style.display = "none";
            }
            else if (selectedService == "SLTests") {
                testsSPIKE.style.display = "none";
                testsSL.style.display = "block";
                testsAT.style.display = "none";
            }
            else if (selectedService == "ATTests") {
                testsSPIKE.style.display = "none";
                testsSL.style.display = "none";
                testsAT.style.display = "block";
            }
        }

    </script>
    <script>
        console.log("SL Service is active: ", mySL.isActive());
        /* End testing automatic init */
        console.log("Airtable Service is active: ", Airtable.isActive());
        /* set function to execute after init*/
        Airtable.executeAfterInit( async function() {
            console.log("Airtable Service is active: ", Airtable.isActive());
            /* begin testing Airtable getter functions */
            
            // get all the "Name" fields on the table
            var names = Airtable.getNames();
            console.log(names);

            // get all the "Value" fields associated with a "Name"
            for ( var index in names ) {
                var value = Airtable.getTagValue(names[index]);
                console.log("value of " + names[index] + " is: ", value);
            }

            console.log(Airtable.getTagsInfo());
        });

        /* initialize Airtable */
        // AirtableElement.init();
        
        /* Testing automatic initialization of SD Airtable */
        mySL.executeAfterInit(function() {
            console.log("SL Service is active: ", mySL.isActive());
        })
        //var mySL = document.getElementById("service_systemlink").getService();

        window.addEventListener("load", function () {
            
            // TEST MOTOR BUTTONS
            testMotorDegreesCounted.style.backgroundColor = "lightgreen"; 
            testMotorDegreesCounted1.style.backgroundColor = "lightgreen"; 
            testMotorDegreesCountedCB.style.backgroundColor = "lightgreen"; 
            testMotorDegreesCounted1CB.style.backgroundColor = "lightgreen";
            testDegreesCounted.style.backgroundColor = "lightgreen";
            testMotorStartAtPower.style.backgroundColor = "lightgreen";
            testMotorPosition.style.backgroundColor = "lightgreen";
            testMotorStop.style.backgroundColor = "lightgreen";
            testMotorGetSpeed.style.backgroundColor = "lightgreen";
            testMotorGetPower.style.backgroundColor = "lightgreen";

            //testMotorPairStart
            testMotorPairMove.style.backgroundColor = "red";
            testMotorPairMoveLeft.style.backgroundColor = "red";
            testMotorPairMoveRight.style.backgroundColor = "red";
            testMotorPairMoveLeftSlightly.style.backgroundColor = "red";
            testMotorPairMoveRightSlightly.style.backgroundColor = "red";
            testMotorPairStartTank.style.backgroundColor = "lightgreen"
            testMotorPairStop.style.backgroundColor = "lightgreen";
            // TEST motion sensor functions
            testGetAngles.style.backgroundColor = "lightgreen";
            testWasGesture.style.backgroundColor = "lightgreen";
            testWaitForNewGesture.style.backgroundColor = "lightgreen";
            testWaitForNewOri.style.backgroundColor = "lightgreen";
            testResetYaw.style.backgroundColor = "red";
            testResetYawSource.style.backgroundColor = "red";
            testGetGesture.style.backgroundColor = "lightgreen";
            testGetOrientation.style.backgroundColor = "lightgreen";

            // TEST Forcesensor functions
            testForceSensorIsPressed.style.backgroundColor = "lightgreen";
            testForceSensorWaitUntilPress.style.backgroundColor = "lightgreen";
            testForceSensorWaitUntilRelease.style.backgroundColor = "lightgreen";
            testGetForceNewton.style.backgroundColor = "lightgreen";
            testGetForcePercentage.style.backgroundColor = "lightgreen";

            // TEST Primehub.speaker functions
            testBeep.style.backgroundColor = "orange";
            testStartBeep.style.backgroundColor = "orange";
            testStopBeep.style.backgroundColor = "orange";

            // TEST Primehub.button functions
            testButtonIsPressed.style.backgroundColor = "lightgreen";
            testButtonWaitPressed.style.backgroundColor = "lightgreen";
            testButtonWaitRelease.style.backgroundColor = "lightgreen";
            testButtonWasPressed.style.backgroundColor = "lightgreen";
            
            // TEST ColorSensor
            testGetColor.style.backgroundColor = "lightgreen";
            testWaitUntilColor.style.backgroundColor = "lightgreen";
            testWaitForNewColor.style.backgroundColor = "lightgreen";

            // TEST Distance Sensor
            testLightUp.style.backgroundColor = "lightgreen";
            testGetDistanceCM.style.backgroundColor = "lightgreen";
            testGetDistanceIN.style.backgroundColor = "lightgreen";
            testWaitForDistanceFartherThan.style.backgroundColor = "lightgreen";
            testWaitForDistanceCloserThan.style.backgroundColor = "lightgreen";

            // test MISC buttons
            test_getMotorPorts.style.backgroundColor = "red";

            // test MISC buttons: UJSONRPC
            testUJSONRPC.style.backgroundColor = "red";
            testUJSONRPCdisplayClear.style.backgroundColor = "red";
            testUJSONRPCdisplaySetPixel.style.backgroundColor = "red";
            testUJSONRPCdisplayText.style.backgroundColor = "red";
            testUJSONRPCmotorGoRelPos.style.backgroundColor = "red";
            testUJSONRPCmotorGoRelPos1.style.backgroundColor = "red";
            testUJSONRPCmotorGoRelPos2.style.backgroundColor = "red";
            testUJSONRPCmotorGoRelPos3.style.backgroundColor = "red";
            testUJSONRPCmotorPwm.style.backgroundColor = "red";
            testUJSONRPCmotorPwm1.style.backgroundColor = "red";
            testUJSONRPCmotorRunDegrees.style.backgroundColor = "red";
            testUJSONRPCmotorRunDegrees1.style.backgroundColor = "red";
            testUJSONRPCmotorRunDegrees2.style.backgroundColor = "red";
            testUJSONRPCmotorRunDegrees3.style.backgroundColor = "red";
            testUJSONRPCmotorRunTimed.style.backgroundColor = "red";
            testUJSONRPCmotorRunTimed1.style.backgroundColor = "red";
            testUJSONRPCmotorRunTimed2.style.backgroundColor = "red";
            testUJSONRPCmotorRunTimed3.style.backgroundColor = "red";
            testUJSONRPCmotorStart.style.backgroundColor = "red";
            testUJSONRPCmotorStart1.style.backgroundColor = "red";
            testUJSONRPCmoveTankDegrees.style.backgroundColor = "red";
            testUJSONRPCmoveTankDegrees1.style.backgroundColor = "red";
            testUJSONRPCmoveTankPowers.style.backgroundColor = "red";
            testUJSONRPCmoveTankSpeeds.style.backgroundColor = "red";
            testUJSONRPCmoveTankTime.style.backgroundColor = "red";
            testUJSONRPCmoveTankTime1.style.backgroundColor = "red";
            testUJSONRPCsoundBeep.style.backgroundColor = "red";
            testUJSONRPCsoundStop.style.backgroundColor = "red";

            getTagsInfo.style.backgroundColor = "lightgreen";
            createNewTag.style.backgroundColor = "lightgreen";
            setTagValue.style.backgroundColor = "lightgreen";

            SLTestDecisionHandler();
            SPIKETestDecisionHandler();
            ATTestDecisionHandler();

            var selectTest = document.getElementById("SL_test_select");
            selectTest.addEventListener("click", function () {
                SLTestDecisionHandler();
            })


            var SPIKEselectTest = document.getElementById("SPIKE_test_select");
            SPIKEselectTest.addEventListener("click", function () {
                SPIKETestDecisionHandler();
            })

            var ATselectTest = document.getElementById("AT_test_select");
            ATselectTest.addEventListener("click", function () {
                ATTestDecisionHandler();
            })


        })

        function SLTestDecisionHandler() {
            var testFunction = $("#SLselectTest option:selected").attr('id');

            if (testFunction == "getTagsInfoOPTION") {
                var testCases = document.getElementsByClassName("SLtestCase");
                for (var index = 0; index < testCases.length; index++) {
                    testCases[index].style.display = "none";
                }

                var selectedCases = document.getElementsByClassName("getTagsInfo");
                for (var index = 0; index < selectedCases.length; index++) {
                    var aCase = selectedCases[index];
                    aCase.style.display = "block";
                }
            }
            else if (testFunction == "deleteTagOPTION") {
                var testCases = document.getElementsByClassName("SLtestCase");
                for (var index = 0; index < testCases.length; index++) {
                    testCases[index].style.display = "none";
                }

                var selectedCases = document.getElementsByClassName("deleteTag");
                for (var index = 0; index < selectedCases.length; index++) {
                    var aCase = selectedCases[index];
                    aCase.style.display = "block";
                }
            }
            else if (testFunction == "createNewTagOPTION") {
                var testCases = document.getElementsByClassName("SLtestCase");
                for (var index = 0; index < testCases.length; index++) {
                    testCases[index].style.display = "none";
                }

                var selectedCases = document.getElementsByClassName("createNewTag");
                for (var index = 0; index < selectedCases.length; index++) {
                    var aCase = selectedCases[index];
                    aCase.style.display = "block";
                }
            }
            else if (testFunction == "setTagValueOPTION") {
                var testCases = document.getElementsByClassName("SLtestCase");
                for (var index = 0; index < testCases.length; index++) {
                    testCases[index].style.display = "none";
                }

                var selectedCases = document.getElementsByClassName("setTagValue");
                for (var index = 0; index < selectedCases.length; index++) {
                    var aCase = selectedCases[index];
                    aCase.style.display = "block";
                }
            }
        }

        function ATTestDecisionHandler() {
            var testCases = undefined;
            var testFunction = $("#ATselectTest option:selected").attr('id');

            if (testFunction == "generalOPTION_AT") {
                var testCases = document.getElementsByClassName("ATtestCase");
                for (var index = 0; index < testCases.length; index++) {
                    testCases[index].style.display = "none";
                }

                var selectedCases = document.getElementsByClassName("general");
                for (var index = 0; index < selectedCases.length; index++) {
                    var aCase = selectedCases[index];
                    aCase.style.display = "block";
                }
            }
            else if (testFunction == "edgeOPTION_AT") {
                var testCases = document.getElementsByClassName("ATtestCase");
                for (var index = 0; index < testCases.length; index++) {
                    testCases[index].style.display = "none";
                }

                var selectedCases = document.getElementsByClassName("edge_AT");
                for (var index = 0; index < selectedCases.length; index++) {
                    var aCase = selectedCases[index];
                    aCase.style.display = "block";
                }
            }
        }

        function SPIKETestDecisionHandler() {
            var testCases = undefined;
            var testFunction = $("#SPIKEselectTest option:selected").attr('id');

            if (testFunction == "motorOPTION") {
                var testCases = document.getElementsByClassName("SPIKEtestCase");
                for (var index = 0; index < testCases.length; index++) {
                    testCases[index].style.display = "none";
                }

                var selectedCases = document.getElementsByClassName("motor");
                for (var index = 0; index < selectedCases.length; index++) {
                    var aCase = selectedCases[index];
                    aCase.style.display = "block";
                }
            }
            else if (testFunction == "motionOPTION") {
                var testCases = document.getElementsByClassName("SPIKEtestCase");
                for (var index = 0; index < testCases.length; index++) {
                    testCases[index].style.display = "none";
                }

                var selectedCases = document.getElementsByClassName("motion");
                for (var index = 0; index < selectedCases.length; index++) {
                    var aCase = selectedCases[index];
                    aCase.style.display = "block";
                }
            }
            else if (testFunction == "speakerOPTION") {
                var testCases = document.getElementsByClassName("SPIKEtestCase");
                for (var index = 0; index < testCases.length; index++) {
                    testCases[index].style.display = "none";
                }

                var selectedCases = document.getElementsByClassName("speaker");
                for (var index = 0; index < selectedCases.length; index++) {
                    var aCase = selectedCases[index];
                    aCase.style.display = "block";
                }
            }
            else if (testFunction == "miscOPTION") {
                var testCases = document.getElementsByClassName("SPIKEtestCase");
                for (var index = 0; index < testCases.length; index++) {
                    testCases[index].style.display = "none";
                }

                var selectedCases = document.getElementsByClassName("misc");
                for (var index = 0; index < selectedCases.length; index++) {
                    var aCase = selectedCases[index];
                    aCase.style.display = "block";
                }
            }
            else if (testFunction == "buttonOPTION") {
                var testCases = document.getElementsByClassName("SPIKEtestCase");
                for (var index = 0; index < testCases.length; index++) {
                    testCases[index].style.display = "none";
                }

                var selectedCases = document.getElementsByClassName("button");
                for (var index = 0; index < selectedCases.length; index++) {
                    var aCase = selectedCases[index];
                    aCase.style.display = "block";
                }
            }
            else if (testFunction == "forceOPTION") {
                var testCases = document.getElementsByClassName("SPIKEtestCase");
                for (var index = 0; index < testCases.length; index++) {
                    testCases[index].style.display = "none";
                }

                var selectedCases = document.getElementsByClassName("force");
                for (var index = 0; index < selectedCases.length; index++) {
                    var aCase = selectedCases[index];
                    aCase.style.display = "block";
                }
            }
            else if (testFunction == "motorPairOPTION") {
                var testCases = document.getElementsByClassName("SPIKEtestCase");
                for (var index = 0; index < testCases.length; index++) {
                    testCases[index].style.display = "none";
                }

                var selectedCases = document.getElementsByClassName("motorPair");
                for (var index = 0; index < selectedCases.length; index++) {
                    var aCase = selectedCases[index];
                    aCase.style.display = "block";
                }
            }
            else if (testFunction == "colorOPTION") {
                var testCases = document.getElementsByClassName("SPIKEtestCase");
                for (var index = 0; index < testCases.length; index++) {
                    testCases[index].style.display = "none";
                }

                var selectedCases = document.getElementsByClassName("color");
                for (var index = 0; index < selectedCases.length; index++) {
                    var aCase = selectedCases[index];
                    aCase.style.display = "block";
                }
            }
            else if (testFunction == "programOPTION") {
                var testCases = document.getElementsByClassName("SPIKEtestCase");
                for (var index = 0; index < testCases.length; index++) {
                    testCases[index].style.display = "none";
                }

                var selectedCases = document.getElementsByClassName("program");
                for (var index = 0; index < selectedCases.length; index++) {
                    var aCase = selectedCases[index];
                    aCase.style.display = "block";
                }
            }
            else if (testFunction == "ultrasonicOPTION") {
                var testCases = document.getElementsByClassName("SPIKEtestCase");
                for (var index = 0; index < testCases.length; index++) {
                    testCases[index].style.display = "none";
                }

                var selectedCases = document.getElementsByClassName("ultrasonic");
                for (var index = 0; index < selectedCases.length; index++) {
                    var aCase = selectedCases[index];
                    aCase.style.display = "block";
                }
            }

        }

        //sleep function
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
    </script>
    <style>
        #selectServiceBox {
            position: absolute;
            top: 10px;
            left: 500px;
            height: 50px;
            width: 100px;
            background-color: #4CE0D2;
            border: solid;
        }

        #SLbox, #SPIKEbox, #ATbox {
            position: absolute;
            top: 200px;
            left: 100px;
            height: 400px;
            width: 400px;
            background-color: #4CE0D2;
            border: solid;
        }
        
        #SPIKE_test_select, #SL_test_select, #AT_test_select {
            background-color: rgb(247, 250, 48);
        }
    </style>
</html>